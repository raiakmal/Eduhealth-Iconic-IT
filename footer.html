<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <!-- css -->
    <link rel="stylesheet" href="dist/output.css">
    <!-- icon -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/remixicon@4.3.0/fonts/remixicon.min.css">
    <!-- google font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <!-- swiperjs -->
    <link rel="stylesheet" href="/css/swiper-bundle.min.css">
    <!-- Model Viewer -->
    <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
    
    <style>
        .highlight {
            background-color: yellow;
        }
        .current-highlight {
            background-color: orange;
        }
        .bg-grey {
            background-color: #f0f0f0;
        }
        .navigation-buttons {
            margin-top: 10px;
        }

        .navbar-default {
            position: absolute;
            bottom: -86px;
            transition: all 0.3s ease;
        }

        .navbar-fixed {
            position: fixed;
            top: 0;
            bottom: auto;
            transition: all 0.3s ease;
            width: 100%;
            z-index: 10;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.5)
        }
    </style>
    
</head>
<body id="content">

<!-- Header -->
<header class="py-8 lg:pt-6 lg:pb-14">
    <div class="container mx-auto lg:relative flex flex-col lg:flex-row lg:justify-between gap-y-4 lg:gap-y-0">
        <!-- Logo -->
        <div class="flex justify-center lg:justify-normal">
            <a href="#">
                <img src="./assets/img/header/logo.svg" alt="">
            </a>
        </div>

        <div class="flex flex-col gap-y-4 lg:flex-row lg:items-center lg:gap-y-0 relative lg:z-50 lg:justify-between">
            <div class="flex items-center justify-between w-full lg:w-auto lg:mr-8">
                <div class="flex items-center text-4xl font-extralight text-black">
                    <span id="time" class="mr-2">09:30</span>
                    <div class="text-2xl font-semibold text-gray-400" id="ampm"><sup>PM</sup></div>
                </div>

                <!-- Toggle Dark Mode -->
                <div class="relative inline-block text-left ml-auto lg:ml-4">
                    <div class="flex justify-end pr-4 lg:pr-0">
                        <button id="theme-toggle-button" class="inline-flex items-center justify-center w-10 h-10 rounded-full border border-gray-300 shadow-sm bg-white text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                            <i class="ri-sun-line text-xl"></i>
                        </button>
                    </div>

                    <div id="theme-menu" class="origin-top-right absolute right-0 mt-2 w-40 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none hidden">
                        <div class="py-1" role="none">
                            <a href="#" id="light-mode" class="flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900" role="menuitem">
                                <i class="ri-sun-line mr-2"></i> Light
                            </a>
                            <a href="#" id="dark-mode" class="flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900" role="menuitem">
                                <i class="ri-moon-line mr-2"></i> Dark
                            </a>
                            <a href="#" id="system-mode" class="flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900" role="menuitem">
                                <i class="ri-computer-line mr-2"></i> System
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Mobile Navbar -->
        <nav class="mnav bg-white fixed w-[300px] top-0 h-screen -left-[300px] shadow-2xl lg:hidden transition-all duration-300">
            <div class="mnav__close-btn bg-primary w-8 h-8 relative -right-full top-8 flex justify-center items-center rounded-tr-lg rounded-br-lg cursor-pointer transition-all">
                <i class="mnav__close-btn-icon ri-arrow-right-s-line text-2xl text-white"></i>
            </div>
            <div class="px-12 flex flex-col gap-y-12 h-full">
                <a href="#">
                    <img src="./assets/img/header/logo.svg" alt="">
                </a>
                <ul class="flex flex-col gap-y-5">
                    <li>
                        <a href="#" class="text-secondary hover:text-accent transition-all duration-300">Home</a>
                    </li>
                    <li>
                        <a href="#" class="text-secondary hover:text-accent transition-all duration-300">Definisi</a>
                    </li>
                    <li>
                        <a href="#" class="text-secondary hover:text-accent transition-all duration-300">Explore</a>
                    </li>
                    <li>
                        <a href="#" class="text-secondary hover:text-accent transition-all duration-300">Home</a>
                    </li>
                    <li>
                        <a href="#" class="text-secondary hover:text-accent transition-all duration-300">Contact</a>
                    </li>
                </ul>
            </div>
        </nav>

        <!-- Desktop Navbar -->
        <nav id="navbar" class="navbar-default bg-white w-full left-0 shadow-custom1 h-16 rounded-[10px] lg:flex lg:items-center lg:justify-between lg:px-[50px]">
            <ul class="flex gap-x-4">
                <li>
                    <a href="#" class="border-r pr-4 text-secondary hover:text-accent transition-all duration-300">Home</a>
                </li>
                <li>
                    <a href="#" class="border-r pr-4 text-secondary hover:text-accent transition-all duration-300">Definisi</a>
                </li>
                <li>
                    <a href="#" class="border-r pr-4 text-secondary hover:text-accent transition-all duration-300">Explore</a>
                </li>
                <li>
                    <a href="#" class="border-r pr-4 text-secondary hover:text-accent transition-all duration-300">Home</a>
                </li>
                <li>
                    <a href="#" class="text-secondary hover:text-accent transition-all duration-300">Contact</a>
                </li>
            </ul>
            <!-- Search Feature -->
            <div class="flex items-center">
                <input type="text" id="searchInput" placeholder="Cari Kata" class="bg-grey text-secondary placeholder-secondary rounded-[5px] px-2 py-1 focus:outline-none">
                <i class="ri-search-line text-secondary ml-2 hover:text-accent transition-all duration-300" onclick="searchAndHighlight()"></i>
                <button id="prevButton" class="ml-2 px-2 py-1 bg-secondary text-white rounded-[5px]" onclick="navigateResults(-1)">⬆️</button>
                <button id="nextButton" class="ml-2 px-2 py-1 bg-secondary text-white rounded-[5px]" onclick="navigateResults(1)">⬇️</button>
            </div>
        </nav>
    </div>
</header>
<!-- End Header -->

<!-- Your other sections go here -->

<footer class="bg-white">
    <div class="container mx-auto mt-10 px-6 py-8">
        <div class="flex flex-col md:flex-row md:justify-center md:space-x-10 space-y-8 md:space-y-0 text-center md:text-left">
            <!-- Footer content -->
        </div>
    </div>
</footer>

<script>
    let currentIndex = -1;
    let searchResults = [];

    function searchAndHighlight() {
        // Reset highlights
        resetHighlights();
        
        const searchInput = document.getElementById('searchInput').value;
        if (searchInput.trim() === "") return;

        const content = document.querySelector('body');
        const regex = new RegExp(searchInput, 'gi');

        // Traverse all child nodes and highlight text nodes
        traverseAndHighlight(content, regex);

        searchResults = document.querySelectorAll('.highlight');
        currentIndex = -1;

        if (searchResults.length > 0) {
            navigateResults(1); // Automatically navigate to the first result
        }
    }

    function traverseAndHighlight(node, regex) {
        if (node.nodeType === 3) { // Text node
            const text = node.textContent;
            const newHTML = text.replace(regex, function(matched) {
                return `<span class="highlight">${matched}</span>`;
            });
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = newHTML;
            while (tempDiv.firstChild) {
                node.parentNode.insertBefore(tempDiv.firstChild, node);
            }
            node.parentNode.removeChild(node);
        } else if (node.nodeType === 1 && node.childNodes && !/(script|style)/i.test(node.tagName)) { // Element node
            for (let i = 0; i < node.childNodes.length; i++) {
                traverseAndHighlight(node.childNodes[i], regex);
            }
        }
    }

    function navigateResults(direction) {
        if (searchResults.length === 0) return;

        // Remove the current highlight class
        if (currentIndex !== -1) {
            searchResults[currentIndex].classList.remove('current-highlight');
        }

        // Update index based on direction
        currentIndex += direction;

        if (currentIndex < 0) {
            currentIndex = searchResults.length - 1;
        } else if (currentIndex >= searchResults.length) {
            currentIndex = 0;
        }

        // Scroll to the new current highlight and apply the current-highlight class
        const currentResult = searchResults[currentIndex];
        currentResult.classList.add('current-highlight');
        currentResult.scrollIntoView({ behavior: 'smooth', block: 'center' });
    }

    function resetHighlights() {
        const highlightedElements = document.querySelectorAll('.highlight');
        highlightedElements.forEach(element => {
            element.outerHTML = element.innerText; // Replace the highlighted span with just text
        });

        searchResults = [];
        currentIndex = -1;
    }
</script>

</body>
</html>
